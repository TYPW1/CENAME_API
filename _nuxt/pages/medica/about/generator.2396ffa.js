(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{348:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=["January","Febuary","March","April","May","June","July","August","September","October","November","December"],o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=Math.ceil(e),r=Math.floor(t);return Math.floor(Math.random()*(r-n+1))+n}},373:function(e,t,n){"use strict";n.r(t);n(18),n(37),n(19),n(34),n(33),n(17),n(21),n(22),n(10);var r=n(75),o=n(348);function c(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,d=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){d=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(d)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var d={name:"Generator",layout:"medica",data:function(){return{begin:Object(r.formatDate)((new Date).setMonth((new Date).getMonth()-1)),end:Object(r.formatDate)(new Date),batch_begin:1,batch_end:20,invoice_begin:1,invoice_end:20,generated:0,errored:0,currentDate:"",displayDate:"",distributeNumber:0,doneNumber:0,delivery:["Douala, Cameroun","YaoundÃ©, Cameroun","Buea, Cameroun","Accra, Ghana","Bamenda, Cameroun","Baghdad, India","Delhi, India","Hiro Medical Invoices"],vessels:["By Air","By Sea","By Land","Illegal"],senders:["Hiro Distributions Intl","Pharmacubs Lab Paris","Laquintinie Medical Reseach Center","New York Medical Facilites","Microsoft Yearly Donation","Facebook Aids","Hiro Medical Facilities","CCME Cameroun Centre for Medical Engeneering","UNICEF World Health","World Healt Organisations Labs","Berlin Medical Facilities","Medical NASA Team","Hiro Enterprises"],products:["Paracetamol 1000mg","Paracetamon 500mg","Doliprane Efferverscent 1000mg","Chloroquine","Spamo Apotel","Chlorine 2mmHg","Ethilic Alcohol","Surgery Mask","Efferalgant 500mg","Fortadol 800mg","Respibien Spray 120ml","Random medics"]}},computed:{batches:function(){return this.$store.getters["invoice/allBatches"]},host:function(){return this.$store.state.invoice.host},done:function(){if(this.displayDate)return this.displayDate===this.currentDate},percentDone:function(){return this.doneNumber/this.number*100},regions:function(){return this.$store.state.invoice.regions},number:function(){var e=new Date(this.begin),t=new Date(this.end),n=Math.abs(t-e);return Math.ceil(n/864e5)}},methods:{distribute:function(){var e,t=this,n=0,l=c(this.batches);try{for(l.s();!(e=l.n()).done;){var d=e.value;if(n++>this.distributeNumber)break;var v={region_code:this.regions.slice(1)[Object(o.b)(0,9)].code,batch_no:d.batch_no,created_on:Object(r.convertToDate)((new Date).setDate((new Date).getDate()-Object(o.b)(0,90)))};n++,this.$axios.$post("".concat(this.host,"/make/distribution"),v).then((function(e){t.generated++})).catch((function(e){t.errored++}))}}catch(e){l.e(e)}finally{l.f()}},generate:function(){var e=this,t=new Date(this.begin);this.currentDate=new Date(this.begin),this.displayDate=new Date(this.begin);for(var n=new Date(this.end),c={},l=0;Object(r.inDateRange)(this.currentDate,t,n);){for(var i=0;i<Object(o.b)(this.batch_begin,this.batch_end);i++){(c={invoice_data:{},batches:[]}).invoice_data={invoice_no:"GEN0"+(new Date).getFullYear()+"-"+Object(o.b)(0,50)+Object(o.b)(0,50)+Object(o.b)(0,50)+l++,invoice_date:Object(r.convertToDate)((new Date).setDate((new Date).getDate()-Object(o.b)(0,1e3))),created_on:Object(r.convertToDate)(this.currentDate),delivery:this.delivery[Object(o.b)(0,this.delivery.length)],exporter:this.senders[Object(o.b)(0,this.senders.length)],stockage:this.delivery[Object(o.b)(0,this.delivery.length)],vessel:this.vessels[Object(o.b)(0,this.vessels.length)]};for(var d=0,v=0;v<=Object(o.b)(this.batch_begin,this.batch_end);v++)c.batches.push({batch_no:"GEN0"+(new Date).getFullYear()+"-"+Object(o.b)()+Object(o.b)()+Object(o.b)()+d++,description:[this.products[Object(o.b)(0,this.products.length)],this.products[Object(o.b)(0,this.products.length)]].join(" + "),mfg_date:Object(r.convertToDate)((new Date).setDate((new Date).getDate()-365-Object(o.b)(0,1e3))),exp_date:Object(r.convertToDate)((new Date).setDate((new Date).getDate()+365+Object(o.b)(0,1e3))),quantity:Object(o.b)(5,1e3),num_of_ships:Object(o.b)(5,1e3)});this.$axios.$post("".concat(this.host,"/add/invoice"),c).then((function(t){e.doneNumber+=1/Object(o.b)(e.invoice_begin,e.invoice_end),e.generated++})).catch((function(t){e.doneNumber+=1/Object(o.b)(e.invoice_begin,e.invoice_end),e.errored++}))}this.currentDate=new Date(new Date(this.currentDate).setDate(new Date(this.currentDate).getDate()+1))}}}},v=n(2),component=Object(v.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"p-16"},[n("p",{staticClass:"text-3xl font-bold"},[e._v("Data Generator")]),e._v(" "),n("div",{staticClass:"flex items-stretch border mt-4 rounded-lg overflow-hidden border-green-500 mt-4"},[n("p",{staticClass:"bg-gray-300 py-2 px-8"},[e._v("Date Range")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.begin,expression:"begin"}],staticClass:"flex-grow  px-4 py-2 focus:outline-none",attrs:{type:"date"},domProps:{value:e.begin},on:{input:function(t){t.target.composing||(e.begin=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.end,expression:"end"}],staticClass:"flex-grow  px-4 py-2 focus:outline-none",attrs:{type:"date"},domProps:{value:e.end},on:{input:function(t){t.target.composing||(e.end=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"flex items-stretch border mt-4 rounded-lg overflow-hidden border-green-500 mt-4"},[n("p",{staticClass:"bg-gray-300 py-2 px-8"},[e._v("Batches ranges")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.batch_begin,expression:"batch_begin"}],staticClass:"flex-grow  px-4 py-2 focus:outline-none",attrs:{type:"number"},domProps:{value:e.batch_begin},on:{input:function(t){t.target.composing||(e.batch_begin=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.batch_end,expression:"batch_end"}],staticClass:"flex-grow  px-4 py-2 focus:outline-none",attrs:{type:"number"},domProps:{value:e.batch_end},on:{input:function(t){t.target.composing||(e.batch_end=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"flex items-stretch border mt-4 rounded-lg overflow-hidden border-green-500 mt-4"},[n("p",{staticClass:"bg-gray-300 py-2 px-8"},[e._v("Invoices ranges")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.invoice_begin,expression:"invoice_begin"}],staticClass:"flex-grow  px-4 py-2 focus:outline-none",attrs:{type:"number"},domProps:{value:e.invoice_begin},on:{input:function(t){t.target.composing||(e.invoice_begin=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.invoice_end,expression:"invoice_end"}],staticClass:"flex-grow  px-4 py-2 focus:outline-none",attrs:{type:"number"},domProps:{value:e.invoice_end},on:{input:function(t){t.target.composing||(e.invoice_end=t.target.value)}}})]),e._v(" "),n("button",{staticClass:"w-full py-4 bg-blue-500 rounded-lg mt-8",on:{click:e.generate}},[e._v("\n    Generate please\n  ")]),e._v(" "),n("div",{staticClass:"p-16"},[n("p",{staticClass:"text-3xl font-bold"},[e._v("\n      How Many Batch Should I Distribute : max "+e._s(e.batches.length)+"\n    ")]),e._v(" "),n("div",{staticClass:"flex items-stretch border mt-4 rounded-lg overflow-hidden border-green-500 mt-4"},[n("p",{staticClass:"bg-gray-300 py-2 px-8"},[e._v("Number")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.distributeNumber,expression:"distributeNumber"}],staticClass:"flex-grow  px-4 py-2 focus:outline-none",attrs:{type:"number",max:e.batches.length},domProps:{value:e.distributeNumber},on:{input:function(t){t.target.composing||(e.distributeNumber=t.target.value)}}})]),e._v(" "),n("button",{staticClass:"w-full py-4 bg-blue-500 rounded-lg mt-8",on:{click:e.distribute}},[e._v("\n      Distribute to regions please please\n    ")])]),e._v(" "),n("div",{staticClass:"mt-8 p-4"},[n("p",{staticClass:"text-xl text-gray-800"},[e._v("Generation Status "+e._s(e.percentDone)+" %")]),e._v(" "),n("div",{staticClass:"border rounded-lg overflow-hidden w-full"},[n("div",{staticClass:" bg-blue-500 h-4",style:{width:e.percentDone+"%"}})]),e._v(" "),n("p",{staticClass:"text-gray-600 mt-4"},[e._v("\n      Function parsing Date: "+e._s(e.currentDate)+" "),n("br"),e._v("Generated\n      "+e._s(e.generated)+" Invoices "),n("br"),e._v("\n      Failed "+e._s(e.errored)+" Invoices "),n("br"),e._v("\n      "+e._s(e.number)+" number of days"),n("br"),e._v("\n      Last sent : "+e._s(e.displayDate)+"\n    ")])]),e._v(" "),e.done?n("div",{staticClass:"bg-green-700 px-8 py-8 mt-8 rounded-lg text-lg text-white mx-auto w-1/2"},[e._v("\n    Done generated, now go to settings and reload data!\n  ")]):e._e()])}),[],!1,null,"222091c7",null);t.default=component.exports}}]);