(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{371:function(t,e,n){"use strict";n.r(e);n(36);var o=n(4),r=(n(17),n(75)),c={name:"Index",layout:"medica",data:function(){return{new_name:"",new_host:"",showSuccess:!1,showError:!1}},computed:{name:function(){return this.$store.state.invoice.name},host:function(){return this.$store.state.invoice.host}},mounted:function(){this.new_name=this.name,this.new_host=this.host},methods:{startTimer:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?this.showSuccess=!0:this.showError=!0;var e=this;setTimeout((function(){e.showError=e.showSuccess=!1}),3e3)},changeHost:function(){this.$store.commit("invoice/updateHost",this.new_host),alertify.success("Host changed")},changeName:function(){this.$store.commit("invoice/updateName",this.new_name),alertify.success("Nice to meet you "+this.new_name)},reset:function(){var t=this;alertify.confirm("Factory Reset","This is going to set the app to default settings, Do you wish to proceed ?",(function(){t.$store.commit("invoice/resetApp")}),null)},clearData:function(){var t=this;alertify.confirm("Clear local data","This is going to clear the app cached data, Do you wish to proceed ?",(function(){t.$store.commit("invoice/clear"),alertify.success("Data cleared")}),null)},fetchData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("".concat(t.host,"/get/invoices"));case 3:n=e.sent,alertify.message("Please wait! Data is being downloaded"),console.log(n),t.$store.commit("invoice/clear"),n.data.forEach((function(i){return t.$store.commit("invoice/add",new r.Invoice(i))})),alertify.success("Data updated successfully"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alertify.error("Could not download data!, Check the server connection");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}}},l=n(2),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-16 bg-white"},[n("p",{staticClass:"text-3xl font-bold"},[t._v("Settings")]),t._v(" "),n("p",{staticClass:"text-xl font-bold mt-8"},[t._v("App Configuration")]),t._v(" "),n("div",{staticClass:"flex items-stretch border mt-4 rounded-lg overflow-hidden border-green-500"},[n("p",{staticClass:"bg-gray-300 py-2 px-8"},[t._v("Your Name")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.new_name,expression:"new_name"}],staticClass:"flex-grow  px-4 py-2 focus:outline-none",attrs:{type:"text"},domProps:{value:t.new_name},on:{input:function(e){e.target.composing||(t.new_name=e.target.value)}}}),t._v(" "),n("button",{staticClass:"bg-green-500 px-8 text-white focus:outline-none",on:{click:t.changeName}},[t._v("\n      Update\n    ")])]),t._v(" "),n("div",{staticClass:"flex items-stretch border rounded-lg overflow-hidden border-green-500 mt-4"},[n("p",{staticClass:"bg-gray-300 py-2 px-8"},[t._v("Database Host")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.new_host,expression:"new_host"}],staticClass:"flex-grow  px-4 py-2 focus:outline-none",attrs:{type:"text"},domProps:{value:t.new_host},on:{input:function(e){e.target.composing||(t.new_host=e.target.value)}}}),t._v(" "),n("button",{staticClass:"bg-green-500 px-8 text-white focus:outline-none",on:{click:t.changeHost}},[t._v("\n      Update\n    ")])]),t._v(" "),n("p",{staticClass:"text-xl font-bold mt-8"},[t._v("App Settings")]),t._v(" "),n("div",{staticClass:"border rounded-lg p-8 mt-4"},[n("p",{staticClass:"text-gray-700 font-bold"},[t._v("Reload data")]),t._v(" "),n("p",{staticClass:"text-gray-600 mt-2"},[t._v("\n      This operation is going to fetch new data from the database. Before\n      doing this operation, verify that the database host has been entered\n      correctly. This operation is safe to do\n    ")]),t._v(" "),t._m(0),t._v(" "),n("button",{staticClass:"mt-4 px-4 py-2 bg-green-500 rounded-lg text-white focus:outline-none",on:{click:t.fetchData}},[t._v("\n      I want to do it\n    ")])]),t._v(" "),n("div",{staticClass:"border rounded-lg p-8 mt-4"},[n("p",{staticClass:"text-gray-700 font-bold"},[t._v("Clear data")]),t._v(" "),n("p",{staticClass:"text-gray-600 mt-2"},[t._v("\n      This operation is going to delete every invoice, batches and distributed\n      data from the application. These data will be fetched back when the app\n      restart or by Reloading the data manually\n    ")]),t._v(" "),t._m(1),t._v(" "),n("button",{staticClass:"mt-4 px-4 py-2 bg-red-500 rounded-lg text-white focus:outline-none",on:{click:t.clearData}},[t._v("\n      I want to do it\n    ")])]),t._v(" "),n("div",{staticClass:"border rounded-lg p-8 mt-4"},[n("p",{staticClass:"text-gray-700 font-bold"},[t._v("Reset App")]),t._v(" "),n("p",{staticClass:"text-gray-600 mt-2"},[t._v("\n      This operation is going to reset the app and reset all settings. Use it\n      only when needed, this operation is safe\n    ")]),t._v(" "),t._m(2),t._v(" "),n("button",{staticClass:"mt-4 px-4 py-2 bg-blue-500 rounded-lg text-white focus:outline-none",on:{click:t.reset}},[t._v("\n      I want to do it\n    ")])]),t._v(" "),t.showSuccess?n("div",{staticClass:"fixed w-64 top-0 right-0 mr-8 mt-8 rounded-lg bg-blue-500 text-white px-8 py-4"},[t._v("\n    Updated Successfully\n  ")]):t._e(),t._v(" "),t.showError?n("div",{staticClass:"fixed w-64 top-0 right-0 mr-8 mt-8 rounded-lg bg-red-500 text-white px-8 py-4"},[t._v("\n    Not completed\n  ")]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"text-gray-600 mt-2"},[e("span",{staticClass:"text-red-500"},[this._v("Warning !")]),this._v(" This operation is clear the\n      actual database before fetching new data\n    ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"text-gray-600 mt-2"},[e("span",{staticClass:"text-red-500"},[this._v("Warning !")]),this._v(" This operation is clear the\n      actual database, this cannot be undone\n    ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"text-gray-600 mt-2"},[e("span",{staticClass:"text-red-500"},[this._v("Warning !")]),this._v(" Do it at your own risk\n    ")])}],!1,null,"5e4a1bec",null);e.default=component.exports}}]);