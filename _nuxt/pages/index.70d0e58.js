(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{349:function(t,e,n){},356:function(t,e,n){"use strict";var o=n(349);n.n(o).a},381:function(t,e,n){"use strict";n.r(e);n(41),n(19),n(18),n(10),n(35),n(126),n(17);var o=n(15),r=n(32),c=n(202),d=n(75),l=n(337);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={layout:"medica",components:{DataChart:n(353).a,DateRangeStats:l.a,InvoiceTable:c.a},data:function(){return{lastMonth:(new Date).setMonth((new Date).getMonth()-1)}},computed:{invoices:function(){return this.$store.state.invoice.invoices},todayInvoices:function(){return this.invoices.filter((function(t){return Object(d.formatDate)(new Date(t.created_on))===Object(d.formatDate)(new Date)}))},chartData:function(){var data=this.$store.state.invoice.distributions,t=[];return data.forEach((function(e){e.distributions.forEach((function(e){t.push(e)}))})),t},distributions:function(){return this.$store.getters["invoice/getDistributions"]},todayDistribution:function(){var t=this,data=this.$store.state.invoice.distributions,e=[];return data.forEach((function(n){var o=n.distributions.filter((function(t){return Object(d.formatDate)(new Date(t.created_on))===Object(d.formatDate)(new Date)}));e.push.apply(e,Object(r.a)(o.map((function(e){return _(_({},e),{},{region:t.regions.find((function(t){return t.code===e.region_code})).name.toUpperCase(),created_on:Object(d.formatDate)(e.created_on)})}))))})),e},regions:function(){return this.$store.state.invoice.regions.slice(1)},name:function(){return this.$store.state.invoice.name}},methods:{addInvoice:function(){this.$router.push({path:"/medica/invoice/new"})}}},h=(n(356),n(2)),component=Object(h.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:" relative bg-white p-16 flex flex-col text-5xl font-bold bg-cover overlay bg-right-top",attrs:{id:"hero"}},[n("p",{staticClass:"font-sans tracking-wide"},[t._v("\n      Welcome Back "),n("span",{staticClass:"text-green-500 capitalize"},[t._v(t._s(t.name)+"!")])]),t._v(" "),n("p",{staticClass:"text-4xl font-sans tracking-wide text-gray-800 mt-2 "},[t._v("\n      Today there have been\n      "),n("span",{staticClass:"text-green-500"},[t._v(t._s(t.todayInvoices.length))]),t._v("\n      Invoices\n    ")]),t._v(" "),n("p",{staticClass:"text-3xl font-sans tracking-wide text-gray-600 mt-2 "},[t._v("\n      and\n      "),n("span",{staticClass:"text-green-500"},[t._v(t._s(t.todayDistribution.length))]),t._v("\n      Distributions today\n    ")]),t._v(" "),n("p",{staticClass:"mt-4 text-base text-gray-70Close0 font-light"},[t._v("\n      So what do you want to see today ?\n    ")]),t._v(" "),n("div",{staticClass:"absolute bg-white shadow-lg rounded-lg p-4 flex justify-around mt-2 right-0 left-0 mx-32 text-base",staticStyle:{bottom:"-10%"}},[n("nuxt-link",{staticClass:"border px-8 mx-2 hover:text-white text-center hover:bg-green-500 py-1 rounded border-green-300 flex-grow text-green-700",attrs:{to:"/medica/invoice"}},[t._v("\n        Invoices\n      ")]),t._v(" "),n("nuxt-link",{staticClass:"border px-8 mx-2 hover:text-white text-center hover:bg-green-500 py-1 rounded border-green-300 flex-grow text-green-700",attrs:{to:"/medica/batch"}},[t._v("\n        Batches\n      ")]),t._v(" "),n("nuxt-link",{staticClass:"border px-8 mx-2 hover:text-white text-center hover:bg-green-500 py-1 rounded border-green-300 flex-grow text-green-700",attrs:{to:"/medica/regions"}},[t._v("National Distribution")])],1)]),t._v(" "),n("div",{staticClass:"p-8 py-16"},[n("p",{staticClass:"text-3xl font-bold"},[t._v("Here are some stats")]),t._v(" "),n("div",{staticClass:"flex w-full"},[n("div",{staticClass:"w-1/2 px-1"},[n("DateRangeStats",{staticClass:"text-xs bg-white rounded-lg shadow-lg p-2",attrs:{type:"bar",label:[],start_date:t.lastMonth,legend:"Invoices Created",bar_color:"#3af11c",chart_unit:"day",datasets:t.invoices,date_key:"created_on"}})],1),t._v(" "),n("div",{staticClass:"w-1/2 px-1"},[n("DateRangeStats",{staticClass:"text-xs bg-white rounded-lg h-full shadow-lg",attrs:{type:"bar",label:[],start_date:"2010-1-1",legend:"Invoices Created",bar_color:"#3af11c",chart_unit:"month",datasets:t.invoices,date_key:"created_on"}})],1)]),t._v(" "),n("div",{staticClass:"w-full  flex mt-4"},[n("div",{staticClass:"px-1 w-1/2"},[n("DataChart",{staticClass:"bg-white rounded-lg shadow-lg p-2",attrs:{legend:"Distribution",label:t.regions.map((function(t){return t.name.toUpperCase()})),label_ids:t.regions.map((function(t){return t.code})),bar_colors:t.regions.map((function(t){return t.color})),label_key:"region_code",date_key:"created_on",start_date:"2010-1-1",type:"horizontalBar",datasets:t.chartData}})],1),t._v(" "),n("div",{staticClass:"px-1 w-1/2"},[n("DataChart",{staticClass:"bg-white rounded-lg shadow-lg p-2",attrs:{legend:"Distribution",label:t.regions.map((function(t){return t.name.toUpperCase()})),label_ids:t.regions.map((function(t){return t.code})),bar_colors:t.regions.map((function(t){return t.color})),label_key:"region_code",date_key:"created_on",start_date:"2010-1-1",type:"pie",datasets:t.chartData}})],1)])]),t._v(" "),n("div",{staticClass:"mt-8"},[n("p",{staticClass:"text-3xl font-bold px-8"},[t._v("Today's Activities")]),t._v(" "),n("p",{staticClass:"text-gray-600 font-bold mt-8",attrs:{id:"invoices"}},[t._v("Today's Invoices")]),t._v(" "),n("InvoiceTable",{staticClass:"mt-4 mb-16",attrs:{checkable:!1,data_url:"/medica/invoice/",data_id:"invoice_no",no_delete:!0,no_check:"true",column:[{name:"Invoice Number",json:"invoice_no"},{name:"exporter"},{name:"stockage"},{name:"vessel"},{name:"delivery"},{name:"Invoice Date",json:"invoice_date"},{name:"description"}],data:t.todayInvoices},on:{"add-click":t.addInvoice}}),t._v(" "),n("p",{staticClass:"text-gray-600 font-bold mt-8",attrs:{id:"dist"}},[t._v("Today's Distribution")]),t._v(" "),n("InvoiceTable",{attrs:{no_add:!0,no_delete:!0,column:[{name:"region",json:"region"},{name:"Quantity Distributed",json:"quantity"},{name:"Batch NÂ°",json:"batch_no"},{name:"Distribution Date",json:"created_on"}],data:t.todayDistribution,data_url:"/medica/regions/",data_id:"region_code"}})],1)])}),[],!1,null,"757a6acd",null);e.default=component.exports}}]);